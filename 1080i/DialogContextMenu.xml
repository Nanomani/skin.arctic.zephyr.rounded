<?xml version="1.0" encoding="UTF-8"?>
<window id="106">
    <defaultcontrol always="true">1000</defaultcontrol>

    <onload>SetProperty(TMDbHelper.ContextMenu,True)</onload>
    <onload> ClearProperty(SlideHomeNowPlaying,Home)</onload>
    <onunload> ClearProperty(SlideHomeNowPlaying,Home)</onunload>

    <menucontrol>5050</menucontrol>

    <controls>
        <include>Background_Overlay</include>

        <control type="group">
            <include content="Animation_ZoomIn">
                <param name="windowopen_delay" value="400" />
            </include>

            <include content="Def_Dialog_Background"><param name="height" value="728" /><param name="width" value="1020" /></include>

            <!-- BACKGROUNG -->

            <control type="image">
                <width>1020</width>
                <height>728</height>
                <aspectratio align="center" aligny="center" scalediffuse="false">scale</aspectratio>
                <texture diffuse="diffuse/fanart_w1020_h728.png" fallback="DefaultAddonPicture.png">$VAR[Image_Fanart_Context_Menu]</texture>
                <animation effect="fade" end="10" start="100" time="100" condition="true">Conditional</animation>
            </control>

            <!-- HEADER -->

            <control type="group">
                <right>0</right>
                <width>512</width>
                <top>0</top>
                <control type="label" id="2">
                    <include>Def_Dialog_Header_Title</include>
                    <label>$VAR[Label_Context_Menu_Header]</label>
                </control>
                <include>Def_Dialog_Header_Logo</include>
                <include content="Def_Dialog_Header_Line"><param name="top">95</param></include>
                <include content="Def_Dialog_Header_Line"><param name="top">165</param><param name="visible">!Control.HasFocus(5050)</param></include>
            </control>

            <control type="button" id="5050">
                <include>Def_Hidden_Button</include>
                <onright>996</onright>
                <onleft>996</onleft>
                <onback>996</onback>
                <ondown>SetFocus(8601)</ondown>
                <ondown>Down</ondown>
                <ondown>SetFocus(5050)</ondown>
                <onup>SetFocus(8601)</onup>
                <onup>Up</onup>
                <onup>SetFocus(5050)</onup>
            </control>

            <!-- CONTEXT MENU ICON -->

            <control type="grouplist" id="995">
                <include>Animation_Scrolltime_Views_List</include>
                <animation condition="Control.HasFocus(5050)" effect="fade" end="0" start="100" time="250">Conditional</animation>

                <top>108</top>
                <right>30</right>
                <width>450</width>

                <onleft>995</onleft>
                <onright>995</onright>
                <onup>2000</onup>
                <ondown>2002</ondown>
                <height max="560">auto</height>

                <usecontrolcoords>true</usecontrolcoords>
                <orientation>horizontal</orientation>
                <itemgap>29</itemgap>

                <include content="Def_OSD_Button">
                    <param name="autoclose" value="true" />
                    <param name="visible" value="true" />
                    <param name="size" value="44" />
                    <param name="left" value="-37" />
                    <param name="icon" value="special://skin/extras/icons/info2.png" />
                    <param name="icon_colordiffuse" value="Dark2" />
                    <param name="id" value="6150" />
                    <param name="groupid" value="6099" />
                    <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
                    <onclick>Dialog.Close(contextmenu,true)</onclick>
                    <onclick>SetProperty(isoninfo,1,Home)</onclick>
                    <onclick>RunScript(plugin.video.themoviedb.helper,add_path=plugin://plugin.video.themoviedb.helper/?info=details&amp;tmdb_type=movie&amp;tmdb_id=$INFO[Window(Home).Property(TMDbHelper.ListItem.tmdb_id)],call_auto=1190)</onclick>
                </include>

                <include content="Def_OSD_Button">
                    <param name="autoclose" value="true" />
                    <param name="visible" value="true" />
                    <param name="size" value="44" />
                    <param name="left" value="-37" />
                    <param name="icon" value="special://skin/extras/icons/filebox.png" />
                    <param name="icon_colordiffuse" value="Dark2" />
                    <param name="id" value="6151" />
                    <param name="groupid" value="6199" />
                    <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
                    <onclick>Dialog.Close(contextmenu,true)</onclick>
                    <onclick>ActivateWindow(filemanager,"$INFO[Window(Home).Property(TMDbHelper.ListItem.base_path)]",return)</onclick>
                </include>

                <include content="Def_OSD_Button">
                    <param name="autoclose" value="true" />
                    <param name="visible" value="true" />
                    <param name="size" value="44" />
                    <param name="left" value="-37" />
                    <param name="icon" value="special://skin/extras/icons/video.png" />
                    <param name="icon_colordiffuse" value="Dark2" />
                    <param name="id" value="6152" />
                    <param name="groupid" value="6299" />
                    <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
                    <onclick condition="String.IsEmpty(ListItem.Trailer)">PlayMedia($ESCINFO[Window(Home).Property(TMDbHelper.ListItem.Trailer)])</onclick>
                    <onclick>Dialog.Close(contextmenu,true)</onclick>
                    <onclick>AlarmClock(LaunchDelay,ActivateWindow(fullscreenvideo),00:01,silent)</onclick>
                    <onclick condition="!String.IsEmpty(ListItem.Trailer)">PlayMedia($INFO[ListItem.Trailer],1)</onclick>
                </include>

                <include content="Def_OSD_Button">
                    <param name="autoclose" value="true" />
                    <param name="visible" value="true" />
                    <param name="size" value="44" />
                    <param name="left" value="-37" />
                    <param name="icon" value="special://skin/extras/icons/world.png" />
                    <param name="icon_colordiffuse" value="Dark2" />
                    <param name="id" value="6153" />
                    <param name="groupid" value="6399" />
                    <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
                    <!-- <onclick>Dialog.Close(contextmenu,true)</onclick> -->
                    <onclick>runscript(script.wikipedia,wikipedia=$INFO[Window(Home).Property(TMDbHelper.ListItem.Title)],tmdb_type=movie,language=$VAR[Def_Wiki_Language])</onclick>
                </include>

                <include content="Def_OSD_Button">
                    <param name="autoclose" value="true" />
                    <param name="visible" value="true" />
                    <param name="size" value="44" />
                    <param name="left" value="-37" />
                    <param name="icon" value="special://skin/extras/icons/youtube.png" />
                    <param name="icon_colordiffuse" value="Dark2" />
                    <param name="id" value="6154" />
                    <param name="groupid" value="6499" />
                    <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
                    <!-- <onclick condition="System.AddonIsEnabled(plugin.video.youtube)">ActivateWindow(videos,"plugin://plugin.video.youtube/kodion/search/list/",return)</onclick> -->
                    <onclick condition="System.AddonIsEnabled(plugin.video.youtube)">plugin://plugin.video.youtube/kodion/search/query/?q=heat</onclick>
                </include>

<!-- plugin://plugin.video.youtube/kodion/search/query/?q=heat+movie -->

                <include content="Def_OSD_Button">
                    <param name="autoclose" value="true" />
                    <param name="visible" value="true" />
                    <param name="size" value="44" />
                    <param name="left" value="-37" />
                    <param name="icon" value="special://skin/extras/icons/user.png" />
                    <param name="icon_colordiffuse" value="Dark2" />
                    <param name="id" value="6155" />
                    <param name="groupid" value="6599" />
                    <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
                    <onclick>runscript(script.globalsearch,directors=true)</onclick>
                </include>

                <include content="Def_OSD_Button">
                    <param name="autoclose" value="true" />
                    <param name="visible" value="true" />
                    <param name="size" value="44" />
                    <param name="left" value="-37" />
                    <param name="icon" value="special://skin/extras/icons/tmdb.png" />
                    <param name="icon_colordiffuse" value="Dark2" />
                    <param name="id" value="6156" />
                    <param name="groupid" value="6699" />
                    <param name="back_colordiffuse" value="$VAR[Color_OSD_NowPlaying_Button_Background]" />
                    <onclick>Dialog.Close(contextmenu,true)</onclick>
                    <onclick>RunScript(plugin.video.themoviedb.helper,related_lists,query=$INFO[Window(Home).Property(TMDbHelper.ListItem.Title)],tmdb_type=movie)</onclick>
                </include>
            </control>

            <!-- BUTTON TO FOCUS LASTEST ITEM ON LIST -->

            <control type="button" id="2000">
                <visible allowhiddenfocus="true">false</visible>
                <height>1</height>
                <onfocus condition="Control.IsVisible(1002)">SetFocus(1002)</onfocus>
                <onfocus condition="Control.IsVisible(1003)">SetFocus(1003)</onfocus>
                <onfocus condition="Control.IsVisible(1004)">SetFocus(1004)</onfocus>
                <onfocus condition="Control.IsVisible(1005)">SetFocus(1005)</onfocus>
                <onfocus condition="Control.IsVisible(1006)">SetFocus(1006)</onfocus>
                <onfocus condition="Control.IsVisible(1007)">SetFocus(1007)</onfocus>
                <onfocus condition="Control.IsVisible(1008)">SetFocus(1008)</onfocus>
                <onfocus condition="Control.IsVisible(1009)">SetFocus(1009)</onfocus>
                <onfocus condition="Control.IsVisible(1010)">SetFocus(1010)</onfocus>
                <onfocus condition="Control.IsVisible(1011)">SetFocus(1011)</onfocus>
                <onfocus condition="Control.IsVisible(1012)">SetFocus(1012)</onfocus>
                <onfocus condition="Control.IsVisible(1013)">SetFocus(1013)</onfocus>
                <onfocus condition="Control.IsVisible(1014)">SetFocus(1014)</onfocus>
                <onfocus condition="Control.IsVisible(1015)">SetFocus(1015)</onfocus>
                <onfocus condition="Control.IsVisible(1016)">SetFocus(1016)</onfocus>
                <onfocus condition="Control.IsVisible(1017)">SetFocus(1017)</onfocus>
                <onfocus condition="Control.IsVisible(1018)">SetFocus(1018)</onfocus>
                <onfocus condition="Control.IsVisible(1019)">SetFocus(1019)</onfocus>
                <onfocus condition="Control.IsVisible(1020)">SetFocus(1020)</onfocus>
            </control>

            <control type="button" id="2002">
                <visible allowhiddenfocus="true">false</visible>
                <height>1</height>
                <onfocus condition="Control.IsVisible(1020)">SetFocus(1020)</onfocus>
                <onfocus condition="Control.IsVisible(1019)">SetFocus(1019)</onfocus>
                <onfocus condition="Control.IsVisible(1018)">SetFocus(1018)</onfocus>
                <onfocus condition="Control.IsVisible(1017)">SetFocus(1017)</onfocus>
                <onfocus condition="Control.IsVisible(1016)">SetFocus(1016)</onfocus>
                <onfocus condition="Control.IsVisible(1015)">SetFocus(1015)</onfocus>
                <onfocus condition="Control.IsVisible(1014)">SetFocus(1014)</onfocus>
                <onfocus condition="Control.IsVisible(1013)">SetFocus(1013)</onfocus>
                <onfocus condition="Control.IsVisible(1012)">SetFocus(1012)</onfocus>
                <onfocus condition="Control.IsVisible(1011)">SetFocus(1011)</onfocus>
                <onfocus condition="Control.IsVisible(1010)">SetFocus(1010)</onfocus>
                <onfocus condition="Control.IsVisible(1009)">SetFocus(1009)</onfocus>
                <onfocus condition="Control.IsVisible(1008)">SetFocus(1008)</onfocus>
                <onfocus condition="Control.IsVisible(1007)">SetFocus(1007)</onfocus>
                <onfocus condition="Control.IsVisible(1006)">SetFocus(1006)</onfocus>
                <onfocus condition="Control.IsVisible(1005)">SetFocus(1005)</onfocus>
                <onfocus condition="Control.IsVisible(1004)">SetFocus(1004)</onfocus>
                <onfocus condition="Control.IsVisible(1003)">SetFocus(1003)</onfocus>
                <onfocus condition="Control.IsVisible(1002)">SetFocus(1002)</onfocus>
                <onfocus condition="Control.IsVisible(1002)">SetFocus(1001)</onfocus>
            </control>

            <!-- CONTEXT MENU LIST -->

            <control type="grouplist" id="996">
                <description>grouplist for context buttons</description>
                <include>Animation_Scrolltime_Views_List</include>
                <animation condition="Control.HasFocus(5050)" effect="fade" end="0" start="100" time="250">Conditional</animation>

                <top>182</top>
                <right>0</right>
                <width>510</width>
                <height max="490">auto</height>

                <onup>995</onup>
                <ondown>995</ondown>
                <!-- <ondown>SetFocus(8000)</ondown> -->
                <onleft>5050</onleft>
                <onright>5050</onright>

                <itemgap>0</itemgap>

                <control type="button" id="1000">
                    <description>Buttons</description>
                    <width>510</width>
                    <!-- <font>SmallNavi</font> -->
                    <include>Def_Button_Gradient_Context</include>
                    <align>left</align>
                </control>
            </control>

            <!-- TIP - FOOTER -->

            <control type="group">
                <include>Animation_Furniture_Tip_Open</include>

                <bottom>15</bottom>
                <right>30</right>
                <width>452</width>
                <height>50</height>

                <orientation>horizontal</orientation>
                <align>right</align>
                <itemgap>0</itemgap>
                <usecontrolcoords>true</usecontrolcoords>

                <control type="label">
                    <font>SymbolListMini</font>
                    <textcolor>Dark3</textcolor>
                    <label>&#62601;</label>
                </control>
                <control type="label">
                    <font>Mini</font>
                    <scroll>false</scroll>
                    <align>center</align>
                    <textcolor>Dark3</textcolor>
                    <label>$VAR[Label_Context_Menu_Footer_Tip]</label>
                </control>
                <control type="label">
                    <align>right</align>
                    <font>SymbolListMini</font>
                    <textcolor>Dark3</textcolor>
                    <label>&#62600;</label>
                </control>
            </control>

            <!-- TIP - FOOTER -->

            <control type="group">
                <include>Animation_Furniture_Tip</include>

                <bottom>15</bottom>
                <right>30</right>
                <width>452</width>
                <height>50</height>

                <orientation>horizontal</orientation>
                <align>right</align>
                <itemgap>0</itemgap>
                <usecontrolcoords>true</usecontrolcoords>

                <control type="label">
                    <font>SymbolListMini</font>
                    <textcolor>Dark3</textcolor>
                    <label>&#62601;</label>
                </control>
                <control type="label">
                    <font>Mini</font>
                    <scroll>false</scroll>
                    <align>center</align>
                    <textcolor>Dark3</textcolor>
                    <label>$VAR[Label_Context_Menu_Footer_Tip]</label>
                </control>
                <control type="label">
                    <align>right</align>
                    <font>SymbolListMini</font>
                    <textcolor>Dark3</textcolor>
                    <label>&#62600;</label>
                </control>
            </control>

            <control type="group">
                <animation effect="fade" end="100" start="0" time="250" delay="300">Visible</animation>
                <visible>Control.HasFocus(5050)</visible>

                <!-- PLOT -->

                <control type="textbox" id="8600">
                    <top>112</top>
                    <right>30</right>
                    <width>448</width>
                    <height>450</height>
                    <!-- <height>520</height> -->
                    <font>SmallNavi</font>
                    <textcolor>Dark2</textcolor>
                    <align>left</align>
                    <pagecontrol>8601</pagecontrol>
                    <label fallback="19055">$VAR[Label_Context_Menu_Plot]</label>
                </control>

                <!-- FLAG STAR RATING -->

                <control type="group">
                    <top>512</top>
                    <right>30</right>
                    <align>left</align>
                    <width>448</width>

                    <include content="Def_Flag">
                        <param name="Star" value="ContextMenu_Flagstar1" />
                    </include>
                    <include content="Def_Flag">
                        <param name="Star" value="ContextMenu_Flagstar2" />
                        <param name="left" value="40" />
                    </include>
                    <include content="Def_Flag">
                        <param name="Star" value="ContextMenu_Flagstar3" />
                        <param name="left" value="80" />
                    </include>
                    <include content="Def_Flag">
                        <param name="Star" value="ContextMenu_Flagstar4" />
                        <param name="left" value="120" />
                    </include>
                    <include content="Def_Flag">
                        <param name="Star" value="ContextMenu_Flagstar5" />
                        <param name="left" value="160" />
                    </include>
                </control>

                <!-- RATING / VOTES -->

                <control type="label">
                    <top>622</top>
                    <right>30</right>
                    <align>left</align>
                    <width>448</width>
                    <font>Small333</font>
                    <textcolor>Dark2</textcolor>
                    <label>$VAR[Label_Rating_Imdb_Votes_Top250,IMDb ,]</label>
                    <selectedcolor>Dark2</selectedcolor>
                </control>
            </control>

            <!-- SCROLLBAR -->

            <control type="scrollbar" id="8601">
                <width>1</width>
                <height>1</height>
                <visible allowhiddenfocus="true">false</visible>
            </control>

             <!-- ARROW -->

            <control type="group">
                <visible>Control.HasFocus(5050) + Container(8600).HasNext</visible>
                <animation effect="fade" end="100" start="0" time="250" delay="300">Visible</animation>
                <include>Animation_Fade_In</include>
                <left>756</left>
                <top>580</top>
                <control type="image">
                    <top>0</top>
                    <include>Def_Arrow_Size</include>
                    <texture colordiffuse="Dark2" flipy="false">common/arrow-small.png</texture>
                </control>
            </control>
            <control type="group">
                <visible>Control.HasFocus(5050) + Container(8600).HasPrevious</visible>
                <animation effect="fade" end="100" start="0" time="250" delay="300">Visible</animation>
                <include>Animation_Fade_In</include>
                <left>756</left>
                <top>570</top>
                <control type="image">
                    <top>0</top>
                    <include>Def_Arrow_Size</include>
                    <texture colordiffuse="Dark2" flipy="true">common/arrow-small.png</texture>
                </control>
            </control>

            <!-- ART POSTER -->

            <include content="Def_Art_Poster">
                <param name="top" value="41" />
                <param name="left" value="41" />
                <param name="width" value="PosterW" />
                <param name="height" value="635" />
                <param name="colordiffuse" value="Fallback" />
                <param name="texture" value="$VAR[Image_Poster_Context_Menu]" />
                <param name="texture_diffuse" value="poster_w428_h640" />
                <param name="visible" value="$EXP[Exp_ContextMenu_HasPoster]" />
            </include>

            <!-- ART SQUARE -->

            <include content="Def_Art_Poster">
                <param name="top" value="41" />
                <param name="left" value="41" />
                <param name="width" value="PosterW" />
                <param name="height" value="PosterW" />
                <param name="colordiffuse" value="Fallback" />
                <param name="texture" value="$VAR[Image_Poster_Context_Menu]" />
                <param name="texture_diffuse" value="square_w428_h428" />
                <param name="aspectratio" value="keep" />
                <param name="visible" value="!$EXP[Exp_ContextMenu_HasPoster]" />
            </include>
        </control>
    </controls>
</window>
